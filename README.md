# Проектная работа "Веб-ларек"

Web-Larek это интернет-магазин, в котором можно приобрести товары для веб-разработчиков. В данном проекте реализован MVP (Model-View-Presenter) паттерн.

Model - загрузка данных по API, работа и сохранение данных, полученных от пользователя
View - отображение интерфейса, с которым может взаимодействовать пользователь
Presenter - связывает модели данных и отображение пользоватского интерфейса при срабатывании событий

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Описание базовых классов

### Класс Api, отвечает за получение данных с сервера

Методы:
- handleResponse — обработчик ответа сервера
- get — принимает часть url адреса и возвращает ответ от сервера
- post — принимает часть url адреса и принимает данные в виде объекта для отправки на сервер

### Класс EventEmitter, брокер событий, отвечает за работу событий

Методы:
- on — устанавливает обработчик на событие
- off — снимает обработчик на событие
- post — инициализация события с данными
- onAll — устанавливает обработчики на все события
- offAll — снятие обработчиков со всех событий
- trigger — создание коллбека, генерирующего событие при вызове

## Описание классов Model

### Класс ApiModel, наследуется от класса Api, отвечает за получение и хранение данных с сервера

Методы:
- getCardList — получает массив с карточками товара
- getOrder — хранит заказ пользователя

### Класс CardModel, отвечает за приём и хранение данных карточек товара

Методы:
- getCardData — получает данные карточки с товаром, которую открыл пользователь

### Класс BusketModel, отвечает за хранение и работу с данными в корзине, полученных от пользователя

Методы:
- getCardCost — получает итоговую стоимость заказа
- getCardAmount — считает количество товаров в корзине
- addCard — добавляет карточку с товаром в корзину
- deleteCard — убирает карточку с товаром из корзины

### Класс FormModel, отвечает за хранение данных пользователей, полученных из формы заказа

Методы:
- setOrderAdress — получает и хранит адрес пользователя
- validateOrderAdress — проверяет наличие адреса и выбранного метода оплаты
- setOrderContacts — получает и хранит контактные данные пользователя
- validateOrderContacts — проверяет наличие контактных данных пользователя
- getOrder — возвращает заказ в виде объекта с данными пользователя и со списком преобретённых товаров

## Описание классов View

### Класс Menu, отвечает за отображение элементов в главном меню

Атрибуты:
- _total:HTMLElement — количество товаров в корзине
- _busket:HTMLElement — элемент корзины
- _cards:HTMLElement — элемент карточек товаров

Методы:
- setCardList — отображает список товаров
- setTotal — отображает количество товаров в корзине

### Класс Card, отвечает за отображение данных карточек

Атрибуты:
- _image:HTMLElement — изображение товара
- _title:HTMLElement — название товара
- _price:HTMLElement — цена товара
- _category:HTMLElement — категория товара
- _button:HTMLButtonElement — кнопка покупки товара

Методы:
- setCardImage — отображает  картинку товара
- setCardTitle — отображает название товара
- setCardPrice — отображает цену товара
- setCardCategory — отображает категорию товара
- setCardCategory — отображает кнопку покупки товара

### Класс CardItem, наследуется от класса Card, отвечает за отображение данных расскрытых карточек

Атрибуты:
- _description:HTMLElement — описание товара

Методы:
- setCardDescription — отображает описание товара

### Класс Busket, отвечает за отображение данных в корзине

Атрибуты:
- template — шаблон модального окна корзины
- _cardList:HTMLElement — список товаров в корзине
- _cost:HTMLElement — итоговая стоимость заказа в корзине
- _button:HTMLButtonElement— кнопка оформления заказа

Методы:
- getBusketCost — отображает итоговую стоимость заказа
- getBusketCardList — отображает список товаров в корзине

### Класс Order, отвечает за отображение и приём данных в окне с выбором способа оплаты и вводом адреса доставки

Атрибуты:
- _paymentSelection:HTMLButtonElement — выбранный метод оплаты
- _adress:HTMLInputElement — адрес доставки

Методы:
- getPaymentSelection — принимает выбранный метод оплаты
- getAdress — принимает адрес доставки

### Класс Contact, отвечает за отображение и приём данных в окне с контактными данными пользователя

Атрибуты:
- _email:HTMLInputElement — электронная почта
- _phone:HTMLInputElement — номер телефона

Методы:
- getEmail — принимает электронную почту
- getPhone — принимает номер телефона

### Класс Success, отвечает за отображение окна успешного оформления заказа

Атрибуты:
- _cost:HTMLElement — общая цена заказа
- _button:HTMLButtonElement — кнопка закрытия модального окна успешной покупки

### Класс Form, отвечает за отображение ошибок при незаполненном поле

Атрибуты:
- _submit:HTMLButtonElement — кнопка отправки формы
- _error:HTMLElement — контейнер для отображения ошибок валидации
- form:HTMLFormElement — элемент формы

Методы:
- setError — отображает ошибку в контейнер
- setValid — устанавливает состояние кнопки 
- render — отображает изменения в форме

### Класс Modal, отвечает за отображение модальных окон

Атрибуты:
- _button:HTMLButtonElement — кнопка закрытия модального окна
- _content:HTMLElement — содержимое модального окна

Методы:
- openModal — открывает модульное окно
- closeModal — закрывает модульное окно
- renderContent — заменяет содержимое модального окна

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
