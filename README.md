# Проектная работа "Веб-ларек"

Web-Larek это интернет-магазин, в котором можно приобрести товары для веб-разработчиков. В данном проекте реализован MVP (Model-View-Presenter) паттерн.

Model - загрузка данных по API, работа и сохранение данных, полученных от пользователя
View - отображение интерфейса, с которым может взаимодействовать пользователь
Presenter - связывает модели данных и отображение пользоватского интерфейса при срабатывании событий

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Описание базовых классов

### Класс Api, отвечает за получение данных с сервера

Методы:
- handleResponse — обработчик ответа сервера
- get — принимает часть url адреса и возвращает ответ от сервера
- post — принимает часть url адреса и принимает данные в виде объекта для отправки на сервер

### Класс EventEmitter, брокер событий, отвечает за работу событий

Методы:
- on — устанавливает обработчик на событие
- off — снимает обработчик на событие
- post — инициализация события с данными
- onAll — устанавливает обработчики на все события
- offAll — снятие обработчиков со всех событий
- trigger — создание коллбека, генерирующего событие при вызове

## Описание классов Model

### Класс ApiModel, наследуется от класса Api, отвечает за получение и хранение данных с сервера

Методы:
- getCardList — получает массив с карточками товара
- postOrder — хранит заказ пользователя

### Класс BasketModel, отвечает за хранение и работу с данными в корзине, полученных от пользователя

Методы:
- getCardCost — получает итоговую стоимость заказа
- getCardAmount — считает количество товаров в корзине
- addCard — добавляет карточку с товаром в корзину
- deleteCard — убирает карточку с товаром из корзины

### Класс CardModel, отвечает за приём и хранение данных карточек товара

Методы:
- getCardData — получает данные карточки с товаром, которую открыл пользователь

### Класс FormModel, отвечает за хранение данных пользователей, полученных из формы заказа

Методы:
- setOrderAddress — получает и хранит адрес пользователя
- validateOrderAdress — проверяет наличие адреса и выбранного метода оплаты
- setOrderContacts — получает и хранит контактные данные пользователя
- validateOrderContacts — проверяет наличие контактных данных пользователя
- getOrder — возвращает заказ в виде объекта с данными пользователя и со списком преобретённых товаров

## Описание классов View

### Класс Basket, отвечает за отображение данных в корзине

 Атрибуты:
- basketTemplate: HTMLElement — шаблон модального окна корзины
- headerButton: HTMLButtonElement — кнопка корзины в меню
- headerButtonIndex: HTMLElement — счётчик количества товара в корзине
- basketButton: HTMLButtonElement — кнопка оформления заказа
- basketList: HTMLElement — список товаров в корзине
- basketCost: HTMLElement — стоимость заказ

Методы:
- setBusketAmount — отображает количество товаров в корзине
- setBusketCost — отображает итоговую стоимость заказа

### Класс BasketItem, отвечает за отображение товара в корзине

Атрибуты:
- basketCardTemplate: HTMLElement — шаблон товара корзины
- index: HTMLElement — порядковый номер товара
- title: HTMLElement — название товара
- price: HTMLElement — цена товара
- deleteButton: HTMLButtonElement — кнопка удаления товара из корзины

Методы:
- setPrice — отображает цену товара

### Класс Card, отвечает за отображение карточек с товарами

Атрибуты:
- cardTemplate: HTMLElement — шаблон карточки товара
- category: HTMLElement — категория товара
- title: HTMLElement — название товара
- image: HTMLImageElement — иконка товара

Методы:
- setText — отрисовка текста товара
- setPrice — отрисовка цены товара

### Класс CardDescription, наследуется от класса Card, отвечает за отображение данных расскрытых карточек

Атрибуты:
- description:HTMLElement — описание товара
- button: HTMLElement — кнопка добавления товара в корзину

### Класс Contact, отвечает за отображение и приём данных в окне с контактными данными пользователя

Атрибуты:
- contactForm: HTMLFormElement — форма для контактных данных
- submitButton: HTMLButtonElement — кнопка подтверждения
- erorrsForm: HTMLElement — поле для вывода ошибок валидации


### Класс Order, отвечает за отображение и приём данных в окне с выбором способа оплаты и вводом адреса доставки

Атрибуты:
- contactForm: HTMLFormElement — форма для адреса доставки
- paymentSelection:HTMLButtonElement — выбранный метод оплаты
- submitButton: HTMLButtonElement — кнопка подтверждения
- altButtons: HTMLButtonElement[] — кнопки выбора метода оплаты
- erorrsForm: HTMLElement — поле для вывода ошибок валидации

Методы:
- getPaymentSelection — отображает обводку кнопки метода оплаты

### Класс Success, отвечает за отображение окна успешного оформления заказа

Атрибуты:
- successModal: HTMLElement — шаблон модального окна успешной покупки
- description: HTMLElement — текст модального окна успешной покупки
- button:HTMLButtonElement — кнопка закрытия модального окна успешной покупки


### Класс Modal, отвечает за отображение модальных окон

Атрибуты:
- button:HTMLButtonElement — кнопка закрытия модального окна
- content:HTMLElement — содержимое модального окна
- wrapper: HTMLElement — элемент оборачивающий страницу

Методы:
- open — открывает модульное окно
- close — закрывает модульное окно
- render — заменяет содержимое модального окна

## Описания пользовательских событий

- menu:render — отображение списка товаров в главном меню при изменении списка товаров

- card:select — выбор карточки товара
- card:open — отрытие выбранной карточки товара

- basket:add — добавление товара в корзину
- basket:remove — удаление товара из корзины
- basket:open — открытие модального окна корзины

- order:open — открытие модального окна с оформлением заказа
- order:change — обработка данных, ведённых в полях формы
- order:payment — обработка выбранного метода оплаты
- order:error — отображение текста с ошибкой, при незаполненном поле
- order:ready — обработка заказа
- order:send — отправка заказа на сервер

- contact:open — открытие модального окна с контактными данными
- contact:change — обработка данных, ведённых в поля формы
- contact:error — отображение текста с ошибкой, при незаполненном поле

- success:close — закрытие модального окна с успешным оформлением заказа

- modal:open — открытие модального окна
- modal:close — закрытие модального окна

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
